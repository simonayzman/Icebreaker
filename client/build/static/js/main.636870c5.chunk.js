(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{139:function(e,t,n){e.exports=n.p+"static/media/iceberg3.2a9a0240.png"},150:function(e,t,n){e.exports=n(324)},155:function(e,t,n){},184:function(e,t){},323:function(e,t,n){},324:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(135),c=n.n(a),i=(n(155),n(25)),l=n(26),u=n(28),m=n(27),s=n(29),d=n(3),f=n(136),p=n.n(f),g=n(137),h=n.n(g),b=n(138),v=n.n(b),E=n(4),x=n(146),j=(n(189),n(325)),N=n(139),C=n.n(N),R="orange",S="#007bff",y="rgb(183, 194, 207)",O="#007bff";function k(){var e=Object(d.a)(["\n  color: ",";\n  font-family: AppleSDGothicNeo-Light;\n  font-size: 16px;\n"]);return k=function(){return e},e}function I(){var e=Object(d.a)(["\n  align-items: center;\n  margin-bottom: 20px;\n"]);return I=function(){return e},e}function w(){var e=Object(d.a)(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  justify-content: space-around;\n  padding: 20px 0;\n  margin-bottom: 30px;\n"]);return w=function(){return e},e}function D(){var e=Object(d.a)(["\n  color: ",";\n  font-family: AppleSDGothicNeo-Regular;\n  font-size: 16px;\n  text-align: center;\n  line-height: 1.25;\n"]);return D=function(){return e},e}function z(){var e=Object(d.a)(["\n  position: absolute;\n  top: 30%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-family: AppleSDGothicNeo-Bold;\n  font-size: 28px;\n  text-align: center;\n  color: ",";\n  text-shadow: 2px 2px 4px #000000;\n"]);return z=function(){return e},e}function H(){var e=Object(d.a)(["\n  height: auto;\n  width: 100%;\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 10px;\n"]);return H=function(){return e},e}function J(){var e=Object(d.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n"]);return J=function(){return e},e}function F(){var e=Object(d.a)(["\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 30px;\n"]);return F=function(){return e},e}function L(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n"]);return L=function(){return e},e}var U=E.a.div(L()),M=E.a.div(F()),A=E.a.div(J()),B=E.a.img(H()),q=E.a.div(z(),R),W=E.a.div(D(),S),V=E.a.div(w()),G=E.a.div(I()),Q=E.a.div(k(),y),T=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.roomNameHint,n=e.onStartCreateRoom,o=e.onStartJoinRoom,a=null!=t&&t.length>0?"Join Room (".concat(t,"?)"):"Join Room";return r.a.createElement(U,null,r.a.createElement(M,null,r.a.createElement(A,null,r.a.createElement(B,{src:C.a,resizeMode:"contain"}),r.a.createElement(q,null,"Icebreaker")),r.a.createElement(W,null,"The easy way to break the ice"),r.a.createElement(W,null,"and make better connections")),r.a.createElement(V,null,r.a.createElement(G,null,r.a.createElement(j.a,{block:!0,variant:"primary",size:"lg",onClick:n},"Create Room"),r.a.createElement(Q,null,"Let's get this party started!")),r.a.createElement(G,null,r.a.createElement(j.a,{block:!0,variant:"primary",size:"lg",onClick:o},a),r.a.createElement(Q,null,"Make your entrance and meet some people!"))))}}]),t}(o.Component),_=n(78),P=n.n(_),Y=n(143),K=n(11),X=n(33),Z=window.config||{token:"((( DEFAULT DEV ENV )))",api:"http://localhost",port:8e3},$="".concat(Z.api).concat(Z.port?":".concat(Z.port):"");function ee(){var e=Object(d.a)(["\n  margin-top: 20px;\n"]);return ee=function(){return e},e}function te(){var e=Object(d.a)(["\n  color: red;\n  text-align: left;\n  font-size: 20px;\n"]);return te=function(){return e},e}function ne(){var e=Object(d.a)(["\n  width: 100%;\n  font-size: 20px;\n  padding: 5px 10px;\n\n  :disabled {\n    color: #aaa;\n  }\n"]);return ne=function(){return e},e}function oe(){var e=Object(d.a)(["\n  font-size: 20px;\n  color: ",";\n  text-align: left;\n"]);return oe=function(){return e},e}function re(){var e=Object(d.a)(["\n  width: 100%;\n  margin-bottom: 20px;\n"]);return re=function(){return e},e}function ae(){var e=Object(d.a)(["\n  flex: 1;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return ae=function(){return e},e}var ce=Object(E.a)(K.c)(ae()),ie=E.a.div(re()),le=E.a.div(oe(),O),ue=Object(E.a)(K.b)(ne()),me=E.a.div(te()),se=Object(E.a)(j.a)(ee()),de=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).generateRoomCode=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZ",o=n.length,r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*o));return t},n.onSubmitRoomDetails=function(){var e=Object(Y.a)(P.a.mark((function e(t,o){var r,a,c,i,l,u,m,s,d,f,p,g,h,b,v,E;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.props,a=r.roomSelection,c=r.onJoinRoom,i=t.roomCode,l=t.roomName,u=t.userName,m=t.userDescription,console.log("Joining room code: ".concat(i)),"create"!==a){e.next=15;break}return s=encodeURI("".concat($,"/createRoom?roomCode=").concat(i,"&roomName=").concat(l)),e.next=7,fetch(s);case 7:return d=e.sent,e.next=10,d.json();case 10:f=e.sent,!0===f.error?o.setFieldError("roomCode","Room already exists! Refresh page."):c({roomCode:i,roomName:l},{userName:u,userDescription:m}),e.next=25;break;case 15:if("join"!==a){e.next=25;break}return p=encodeURI("".concat($,"/checkRoom?roomCode=").concat(i)),e.next=19,fetch(p);case 19:return g=e.sent,e.next=22,g.json();case 22:h=e.sent,b=h.error,v=h.meta,!0===b?o.setFieldError("roomCode","Room code does not exist!"):(E=v.roomName,c({roomCode:i,roomName:E},{userName:u,userDescription:m}));case 25:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.state={generatedRoomCode:"create"===e.roomSelection?n.generateRoomCode():""},n}return Object(s.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.userNameHint,n=e.roomCodeHint,o=e.roomSelection,a=this.state.generatedRoomCode,c=null;return"create"===o&&(c=r.a.createElement(ie,null,r.a.createElement(le,{htmlFor:"roomName"},"Room Name"),r.a.createElement(ue,{name:"roomName",type:"text",placeholder:"(optional)"}),r.a.createElement(K.a,{name:"roomName",render:function(e){return r.a.createElement(me,null,e)}}))),r.a.createElement(K.d,{initialValues:{roomCode:"create"===o?a:null==n?"":n,roomName:"",userName:null==t?"":t,userDescription:""},validationSchema:X.object({roomCode:X.string().min(6,"Must be 6 characters").max(6,"Must be 6 characters").required("*Required"),userName:X.string().required("*Required"),userDescription:X.string().required("*Required")}),onSubmit:this.onSubmitRoomDetails},(function(e){var t=e.setFieldValue;return r.a.createElement(ce,null,r.a.createElement(ie,null,r.a.createElement(le,{htmlFor:"roomCode"},"Room Code".concat("create"===o?" (autogenerated)":"")),r.a.createElement(ue,{name:"roomCode",type:"text",autoCorrect:"off",autoCapitalize:"characters",maxLength:6,placeholder:"Enter 6-letter event code",onChange:function(e){return t("roomCode",e.target.value.toUpperCase())},disabled:"create"===o}),r.a.createElement(K.a,{name:"roomCode",render:function(e){return r.a.createElement(me,null,e)}})),c,r.a.createElement(ie,null,r.a.createElement(le,{htmlFor:"userName"},"Your Name"),r.a.createElement(ue,{name:"userName",autoCorrect:"off"}),r.a.createElement(K.a,{name:"userName",render:function(e){return r.a.createElement(me,null,e)}})),r.a.createElement(ie,null,r.a.createElement(le,{htmlFor:"userDescription"},"What do you look like?"),r.a.createElement(ue,{name:"userDescription",component:"textarea",autoCorrect:"off",rows:3,placeholder:"e.g., Blonde. Wearing red fedora. Sizeable front teeth."}),r.a.createElement(K.a,{name:"userDescription",render:function(e){return r.a.createElement(me,null,e)}})),r.a.createElement(se,{variant:"primary",size:"lg",type:"submit",block:!0},"Let's do this!"))}))}}]),t}(o.Component);n(323);function fe(){var e=Object(d.a)(["\n  position: absolute;\n  left: 20px;\n  bottom: 20px;\n"]);return fe=function(){return e},e}var pe=p()(),ge=h()({Home:null,RoomIntro:null,QuestionerRanker:null,Room:null,MatchedUser:null}),he=E.a.div(fe()),be=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).hydrateFromLocalStorage=function(){try{var t=localStorage.getItem("user-id"),n=localStorage.getItem("user-name"),o=localStorage.getItem("room-code"),r=localStorage.getItem("room-name");if(e.setState({userId:t,userName:n,roomCode:o,roomName:r}),console.log("Hydrating from local storage:\nUser ID: ".concat(t,"\nUser Name: ").concat(n,"\nRoom Code: ").concat(o,"\nRoom Name: ").concat(r)),null===t){var a=v()().replace(/\W/g,"");console.log("Setting new user id: ",a),localStorage.setItem("user-id",a),e.setState({userId:a})}}catch(c){console.log("Local storage hydration error: ",c)}},e.saveUserRoom=function(e,t,n){try{localStorage.setItem("user-name",e),localStorage.setItem("room-code",t),localStorage.setItem("room-name",n)}catch(o){console.log("Local storage saving error: ",o)}},e.onJoinRoom=function(t,n){var o=e.state.userId,r=t.roomCode,a=t.roomName,c=n.userName,i=n.userDescription;pe.emit("join_room",{roomCode:r,user:{userId:o,userName:c,userDescription:i}}),e.setState({userName:c,roomCode:r,roomName:a}),e.saveUserRoom(c,r,a)},e.onBack=function(){switch(e.state.page){case ge.RoomIntro:e.setState({page:ge.Home})}},e.state={page:ge.Home,userId:null,userName:null,roomCode:null,roomName:null,roomSelection:null},e}return Object(s.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.hydrateFromLocalStorage(),pe.on("connect",(function(){return console.log("Socket connected on the front-end.")})),pe.on("join_room_success",(function(e){return console.log("Successfully joined room: ",e)}))}},{key:"renderQuestionPreferenceSelector",value:function(){return null}},{key:"render",value:function(){var e,t=this,n=this.state,o=n.page,a=n.userId,c=n.userName,i=n.roomSelection,l=n.roomCode,u=n.roomName,m=r.a.createElement(he,{onClick:this.onBack},r.a.createElement(x.a,{size:"35px"}));switch(o){case ge.Home:e=r.a.createElement(T,{roomNameHint:u,onStartCreateRoom:function(){return t.setState({page:ge.RoomIntro,roomSelection:"create"})},onStartJoinRoom:function(){return t.setState({page:ge.RoomIntro,roomSelection:"join"})}});break;case ge.RoomIntro:e=r.a.createElement(de,{userId:a,userNameHint:c,roomCodeHint:l,roomSelection:i,onJoinRoom:this.onJoinRoom});break;default:e=r.a.createElement("h1",null,"NO SCREEN")}return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("p",null,Z.token),e,o!==ge.Home?m:null))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(be,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[150,1,2]]]);
//# sourceMappingURL=main.636870c5.chunk.js.map